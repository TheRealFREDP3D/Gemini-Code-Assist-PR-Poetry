![Poem Collector](https://img.shields.io/badge/PR%20Poetry-LLM%20Generated-blueviolet)
![Auto-updated](https://img.shields.io/badge/auto--update-enabled-brightgreen)
![Gemini Model](https://img.shields.io/badge/model-gemini%201.5%20flash-orange)


# ğŸŒ¸ Gemini Code Assist PR Poetry

> _â€œItâ€™s like a tiny flower growing on a big pile of snips.â€_  

---

## ğŸ§ Listen to the Story Behind the Project

[â†’ Lissten to the Deep Dive Podcast](https://youtu.be/XEh26jsH-2g?si=yVaqn5TcBZhUaVzZ)

---

## ğŸŒŸ What Is This?

When a Pull Request is created on GitHub, the **Gemini Code Assist** app analyzes the PR and posts a detailed AI-generated review comment.

But at the end of that report, tucked away after all the technical feedback, comes a surprise:

> âœï¸ **A poem.**  
> Inspired by the PRâ€™s changes, generated by the LLM as part of the response.

Weird... 

Sometimes, strange is good.
Sometimes, strange is beautiful.

This project collects those poetic snippets, ephemeral and buried, and gives them a proper home.

---

## ğŸš€ TL;DR Quick Start

```bash
# Clone the project
git clone https://github.com/TheRealFREDP3D/Gemini-Code-Assist-PR-Poetry
cd Gemini-Code-Assist-PR-Poetry

# Install dependencies
pip install -r requirements.txt

# Run the interactive wizard
python get_new_flowers.py -w
````

> ğŸ“– Your poems will appear in:
>
> * `gem-flowers.md` (human-readable)
> * `gem-flowers.json` (machine-readable)

---

## ğŸ“š Why Save These Poems?

> Because even code reviews deserve a little soul.

Geminiâ€™s LLM occasionally adds short poetic flourishes when summarizing a PR. These poems are generated contextually from the PRâ€™s title, description, and diff.

They're easy to miss. The BardBot often hides his prose at the bottom of automated comments.
This repo preserves them in a growing open collection.

---

## ğŸª´ Contributing

Have you seen a poetic PR comment?

1. Add it manually to `gem-flowers.md` and `gem-flowers.json`, or
2. Use the collection script to discover and log them.

Letâ€™s surface these little moments of AI weirdness from the GitHub void and into the light.

---

## ğŸ› ï¸ Usage

### Auto-Collection from GitHub PRs

```bash
# Install dependencies
pip install requests gitpython tqdm litellm python-dotenv

# Linux/macOS
./run.sh

# Windows
run.bat

# Or use Python directly
python get_new_flowers.py --model="gemini/gemini-1.5-flash"
```

### Advanced Commands

```bash
# Scan a specific repository
python get_new_flowers.py --owner="username" --repo="repository"

# Limit to N pull requests
python get_new_flowers.py --max-prs=20

# Search across GitHub
python get_new_flowers.py --search --max-repos=10

# Use Ollama local models
python get_new_flowers.py --ollama

# Use interactive wizard
python get_new_flowers.py --wizard
```

---

## âš™ï¸ Configuration

Create a `.env` file in the root directory:

```env
GITHUB_TOKEN=your_github_token
GEMINI_API_KEY=your_gemini_api_key

# Optional:
# MODEL=gemini/gemini-1.5-flash
# LITELLM_LOGGING=True
# LITELLM_LOG=DEBUG
```

---

## ğŸ” Features

* âœ… Automatically detects AI-generated poems in PR comments
* âœ… Works across public and private GitHub repositories
* âœ… Uses Gemini, Ollama, OpenAI, or custom LLMs
* âœ… Handles rate limits and falls back to alternate models
* âœ… Logs all results and errors
* âœ… Outputs in Markdown and JSON
* âœ… Avoids duplicates
* âœ… Includes metadata (repo, PR, model used)

---

## ğŸ“ Project Structure

```
gemini-code-poetry/
â”œâ”€â”€ get_new_flowers.py       # Main poem collector
â”œâ”€â”€ cleanup_poems.py         # Removes duplicates, sorts poems
â”œâ”€â”€ gem-flowers.md           # Pretty poem archive
â”œâ”€â”€ gem-flowers.json         # Structured archive
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ error_handler.py
â”‚   â”œâ”€â”€ logger.py
â”‚   â””â”€â”€ llm_client_template.py
â”œâ”€â”€ llm_client/              # Model implementations
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ PullPal              # PR scraping utilities
â”œâ”€â”€ tests/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ overview-basic.jpg
â”‚   â””â”€â”€ overview-full.jpg
â”œâ”€â”€ run.sh                   # Unix run script
â”œâ”€â”€ run.bat                  # Windows run script
â”œâ”€â”€ .env.example
â””â”€â”€ CHANGELOG.md
```

---

## ğŸ“Š Visual Overview

> *Generated using CodeViz for VSCode*

![Overview Basic](docs/overview-basic.jpg)
![Overview Full](docs/overview-full.jpg)

---

## ğŸ§  Learning Resources

* [Gemini Code Assist](https://cloud.google.com/duet-ai/docs/code-assist-overview)
* [LiteLLM for API Management](https://docs.litellm.ai/)
* [GitHub REST API](https://docs.github.com/en/rest)
* [How LLMs Write Poetry (Paper)](https://arxiv.org/abs/2306.16413)

---

## ğŸ”„ Versioning

See [CHANGELOG.md](./CHANGELOG.md)

---

## ğŸŒ Related Projects

* [Sourcery](https://sourcery.ai/)
* [Ollama](https://ollama.com/)
* [Google Gemini](https://deepmind.google/technologies/gemini/)

---

## âœ¨ Final Thought

> â€œThe world is made of code â€” but sometimes it rhymes.â€
